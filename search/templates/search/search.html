{% extends 'layout.html' %}
{% load static wagtailcore_tags %}

{% block body_class %}template-searchresults{% endblock %}

{% block title %}Search{% endblock %}

{% block page_title %}
  {% include 'home/partials/page_title.html' with title='zoeken' icon='fa fa-search-plus' %}
{% endblock page_title %}

{% block main %}
<div class="shell search-page section-bottom-66">
    <form action="{% url 'search' %}" method="GET" class="form-search rd-search">
        <div class="form-group">
            <label for="search-results" class="form-label form-search-label form-label-sm rd-input-label">Nieuwe zoekopdracht</label>
            <input id="search-results" type="text" name="query" {% if search_query %} value="{{ search_query }}"{% endif %} autocomplete="off" class="form-search-input input-lg form-control input-lg">
        </div>
        <button type="submit" class="form-search-submit"><span class="mdi mdi-magnify"></span></button>
    </form>
    <div class="offset-top-24">
        <h1 class="text-center">Zoekresultaten</h1>
        <hr class="divider bg-mantis">
        {% if search_results %}
            <ul>
                {% for result in search_results %}
                    <li>
                        <h4><a href="{% pageurl result %}">{{ result }}</a></h4>
                        {% if result.search_description %}
                            {{ result.search_description|safe }}
                        {% endif %}
                    </li>
                {% endfor %}
            </ul>

            {% if search_results.has_previous %}
                <a href="{% url 'search' %}?query={{ search_query|urlencode }}&amp;page={{ search_results.previous_page_number }}">Previous</a>
            {% endif %}

            {% if search_results.has_next %}
                <a href="{% url 'search' %}?query={{ search_query|urlencode }}&amp;page={{ search_results.next_page_number }}">Next</a>
            {% endif %}
        {% elif search_query %}
            <div class="alert-classic alert-classic-warning alert-classic-lg">
              <h4><span class="text-middle icon icon-xxs mdi mdi-alert-outline"></span><span class="text-middle">Helaas!</span>
              </h4>
              <p>We vonden geen resultaten voor je zoekopdracht ...</p>
            </div>
        {% endif %}
    </div>
</div>
{% endblock main %}
